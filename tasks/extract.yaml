tasks:

  get_token_summary:
    type: python
    class: get_data.getData
    parameters:
      file_format: csv_unloading
      stage: data_unload
      schema: analytics_models
      table: f_ethereum_token_summary
      path: '/data_downloads/f_ethereum_token_summary'

  get_holders:
    type: python
    class: get_data.getData
    parameters:
      file_format: csv_unloading
      stage: data_unload
      schema: analytics_models
      table: f_ethereum_holders
      path: '/data_downloads/f_ethereum_holders'

  test_etl:
    type: python
    class: ethereum_etl.loadData
    parameters:
      file_format: csv_loading
      stage: data_load_test
      schema: analytics_logs
      table: transactions
      start_block: 9151904
      end_block: 9356457
      blocks_per_file: 10000

  extract_logs:
    type: python
    class: other_tables_extract
    parameters:
      file_format: csv_loading
      stage: bsc_logs_load
      schema: analytics_logs
      table: logs

  extract_traces:
    type: python
    class: ethereum_etl.loadData
    parameters:
      file_format: csv_loading
      stage: traces_load
      schema: analytics_logs
      table: traces
      start_block: 0
      end_block: 9356457
      blocks_per_file: 10000

  extract_other_tables:
    type: python
    class: other_tables_extract.loadData
    parameters:
      file_format: csv_loading
      schema: analytics_logs
      stage: bsc_other_tables
      start_block: 738
      end_block: 938
      max_workers: 10

  extract_test_tables:
    type: python
    class: other_tables_extract.loadData
    parameters:
      file_format: csv_loading
      schema: analytics_logs
      stage: load_test
      start_block: 695
      end_block: 696
      max_workers: 12

  update_bsc_blocks:
    type: python
    class: bsc_data_load.loadData
  # extract_bq_ethereum_tokens:
  #   preset: extract_bigquery
  #   source:
  #     table: tokens 6738652
  #
  # extract_bq_ethereum_contracts:
  #   preset: extract_bigquery
  #   source:
  #     table: contracts
  #   max_merge_rows: 100000
  #
  # extract_bq_ethereum_blocks:
  #   preset: extract_bigquery
  #   source:
  #     table: blocks
  #   delete_key: hash
  #
  # extract_bq_ethereum_transactions:
  #   preset: extract_bigquery
  #   source:
  #     table: transactions
  #   delete_key: hash
  #   max_merge_rows: 3500000
  #   max_batch_rows: 200000

  # extract_bq_EthereumBlock:
  #   preset: extract_snowflake

  # extract_ethereum_methods:
  #   preset: extract_postgres
  #   source:
  #     table: EthereumMethod
  #   ddl:
  #     columns:
  #       - id
  #       - contract
  #       - "method"
  #       - name: params
  #         type: variant
  #       - "txHash"
  #       - "createdAt"
  #       - "updatedAt"
  #
  # extract_ethereum_transactions:
  #   preset: extract_postgres
  #   source:
  #     table: EthereumTx
  #   ddl:
  #     columns:
  #       - id
  #       - name: "from"
  #         dst_name: "from_address"
  #       - name: "to"
  #         dst_name: "to_address"
  #       - "transactionIndex"
  #       - "gasPrice"
  #       - gas
  #       - "blockNumber"
  #       - hash
  #       - v
  #       - s
  #       - r
  #       - "contractAddress"
  #       - "cumulativeGasUsed"
  #       - "gasUsed"
  #       - logs
  #       - "logsBloom"
  #       - status
  #       - value
  #       - nonce
  #       - "input"
  #       - "balanceTo"
  #       - "balanceFrom"
  #       - "blockHash"
  #       - "createdAt"
  #       - "updatedAt"
  #
  # extract_ethereum_blocks:
  #   preset: extract_postgres
  #   source:
  #     table: EthereumBlock
  #   ddl:
  #     columns:
  #       - id
  #       - difficulty
  #       - "extraData"
  #       - "gasLimit"
  #       - "blockGasUsed"
  #       - hash
  #       - "logsBloom"
  #       - miner
  #       - "mixHash"
  #       - nonce
  #       - "number"
  #       - "parentHash"
  #       - "receiptsRoot"
  #       - "sha3Uncles"
  #       - "stateRoot"
  #       - "timestamp"
  #       - "totalDifficulty"
  #       - "transactionsRoot"
  #       - name: uncles
  #         type: variant
  #       - "createdAt"
  #       - "updatedAt"
  #       - size
  #
  # extract_ethereum_contracts:
  #   preset: extract_postgres
  #   source:
  #     table: EthereumContract
  #   ddl:
  #     columns:
  #       - id
  #       - slug
  #       - address
  #       - type
  #       - network
  #       - name: metadata
  #         type: variant
  #       - createdAt
  #       - updatedAt
